<!DOCTYPE html>
<html>

<head>
  <style lang="text/css">
    div#col0{
      padding-left: 0px;
    }
    div#col1 {
      padding-left: 115px;
    }
    #dots1 {
      position: absolute;
      padding-left: 255px;
      display: block;
      top: 150px;
    }
    div#col2 {
      padding-left: 345px;
    }
    div#col3 {
      padding-left: 460px;
    }
    #dots2 {
      position: absolute;
      padding-left: 600px;
      display: block;
      top: 150px;
    }
    div#col4 {
      padding-left: 700px;
    }
    div#col5 {
      padding-left: 815px;
    }
    img#nums {
      display: none;
      top: -100px;
      align-items: center;
      position: absolute;
    }
    img#nums.num1 {
      display: inline;
      top: 100px;
    }
  </style>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</head>

<body>

  <div id="col0">
    <img id="nums" class="num0" src="numbers/0.png" />
    <img id="nums" class="num1" src="numbers/1.png" />
    <img id="nums" class="num2" src="numbers/2.png" />
    <img id="nums" class="num3" src="numbers/3.png" />
    <img id="nums" class="num4" src="numbers/4.png" />
    <img id="nums" class="num5" src="numbers/5.png" />
    <img id="nums" class="num6" src="numbers/6.png" />
    <img id="nums" class="num7" src="numbers/7.png" />
    <img id="nums" class="num8" src="numbers/8.png" />
    <img id="nums" class="num9" src="numbers/9.png" />
  </div>

  <div id="col1">
    <img id="nums" class="num0" src="numbers/0.png" />
    <img id="nums" class="num1" src="numbers/1.png" />
    <img id="nums" class="num2" src="numbers/2.png" />
    <img id="nums" class="num3" src="numbers/3.png" />
    <img id="nums" class="num4" src="numbers/4.png" />
    <img id="nums" class="num5" src="numbers/5.png" />
    <img id="nums" class="num6" src="numbers/6.png" />
    <img id="nums" class="num7" src="numbers/7.png" />
    <img id="nums" class="num8" src="numbers/8.png" />
    <img id="nums" class="num9" src="numbers/9.png" />
  </div>

  <img src="numbers/dots.png" id="dots1" />
  <img src="numbers/dots.png" id="dots2" />

  <div id="col2">
    <img id="nums" class="num0" src="numbers/0.png" />
    <img id="nums" class="num1" src="numbers/1.png" />
    <img id="nums" class="num2" src="numbers/2.png" />
    <img id="nums" class="num3" src="numbers/3.png" />
    <img id="nums" class="num4" src="numbers/4.png" />
    <img id="nums" class="num5" src="numbers/5.png" />
    <img id="nums" class="num6" src="numbers/6.png" />
    <img id="nums" class="num7" src="numbers/7.png" />
    <img id="nums" class="num8" src="numbers/8.png" />
    <img id="nums" class="num9" src="numbers/9.png" />
  </div>

  <div id="col3">
    <img id="nums" class="num0" src="numbers/0.png" />
    <img id="nums" class="num1" src="numbers/1.png" />
    <img id="nums" class="num2" src="numbers/2.png" />
    <img id="nums" class="num3" src="numbers/3.png" />
    <img id="nums" class="num4" src="numbers/4.png" />
    <img id="nums" class="num5" src="numbers/5.png" />
    <img id="nums" class="num6" src="numbers/6.png" />
    <img id="nums" class="num7" src="numbers/7.png" />
    <img id="nums" class="num8" src="numbers/8.png" />
    <img id="nums" class="num9" src="numbers/9.png" />
  </div>

  <div id="col4">
    <img id="nums" class="num0" src="numbers/0.png" />
    <img id="nums" class="num1" src="numbers/1.png" />
    <img id="nums" class="num2" src="numbers/2.png" />
    <img id="nums" class="num3" src="numbers/3.png" />
    <img id="nums" class="num4" src="numbers/4.png" />
    <img id="nums" class="num5" src="numbers/5.png" />
    <img id="nums" class="num6" src="numbers/6.png" />
    <img id="nums" class="num7" src="numbers/7.png" />
    <img id="nums" class="num8" src="numbers/8.png" />
    <img id="nums" class="num9" src="numbers/9.png" />
  </div>

  <div id="col5">
    <img id="nums" class="num0" src="numbers/0.png" />
    <img id="nums" class="num1" src="numbers/1.png" />
    <img id="nums" class="num2" src="numbers/2.png" />
    <img id="nums" class="num3" src="numbers/3.png" />
    <img id="nums" class="num4" src="numbers/4.png" />
    <img id="nums" class="num5" src="numbers/5.png" />
    <img id="nums" class="num6" src="numbers/6.png" />
    <img id="nums" class="num7" src="numbers/7.png" />
    <img id="nums" class="num8" src="numbers/8.png" />
    <img id="nums" class="num9" src="numbers/9.png" />
  </div>

  <script>
    let selected = [];

    function toggleDivDisplay(selector, hidden = true) {
      if (hidden) {
        $(selector).hide();
      } else {
        $(selector).show();
      }
}

    function roll(shown, col) {
      console.log(col);
      console.log(shown);
      console.log(selected[col[col.length - 1]]);
      if (selected[col[col.length - 1]] != shown) {
        $("div#" + col + " img.num" + shown).animate({ top: "-100px" }, speed = 120, callback=()=>{roll2(shown, col)});
      }
    }

    function roll2(shown, col) {
      toggleDivDisplay("div#" + col + " img.num" + shown)
      //$("div#" + col + " img.num" + shown).css('top', "200px");
      shown = (shown + 1) % 10;
      toggleDivDisplay("div#" + col + " img.num" + shown, hidden=false);
      $("div#" + col + " img.num" + shown).animate({ top: "100px" }, speed = 120, callback = function () { console.log("ok"); roll(shown, col) });
    }
    let intervalId;
    let rollId = 0;
    $(document).ready(function () {
      intervalId = setInterval(() => {
        if (rollId == 6) {
          clearInterval(intervalId);
          return;
        }
        roll(1, "col" + rollId);
        rollId++;
      }
        , 200);
      setTimeout(() => { selected = [1, 2, 3, 4, 5, 6]; }, 5000);
    });
  </script>

</body>

</html>
